{"version":3,"sources":["../src/dropdown.tsx"],"sourcesContent":["'use client';\nimport React, {type ReactNode, useState} from 'react';\nimport ArrowDropDown from '@material-design-icons/svg/round/arrow_drop_down.svg';\nimport ArrowDropUp from '@material-design-icons/svg/round/arrow_drop_up.svg';\nimport {AnimatePresence, motion} from 'framer-motion';\nimport {cx} from './cva.ts';\n\nexport type DropdownProps = BaseDropdownProps | StatefulDropDownProps;\n\nexport default function Dropdown(props: DropdownProps) {\n\treturn 'isOpen' in props ? (\n\t\t<BaseDropdown {...props} />\n\t) : (\n\t\t<StatefulDropDown {...props} />\n\t);\n}\n\nexport type StatefulDropDownProps = Omit<\n\tBaseDropdownProps,\n\t'isOpen' | 'onToggle'\n> & {\n\treadonly isInitiallyOpen?: boolean;\n};\n\nexport function StatefulDropDown(props: StatefulDropDownProps) {\n\tconst {isInitiallyOpen = false} = props;\n\tconst [isOpen, setIsOpen] = useState(isInitiallyOpen);\n\treturn <BaseDropdown isOpen={isOpen} onToggle={setIsOpen} {...props} />;\n}\n\nexport type BaseDropdownProps = {\n\treadonly isOpen: boolean;\n\treadonly onToggle: (isOpen: boolean) => void;\n\treadonly label: ReactNode;\n\treadonly children: ReactNode;\n\treadonly className?: string;\n};\n\nexport function BaseDropdown(props: BaseDropdownProps) {\n\tconst {isOpen, onToggle, label, children, className} = props;\n\n\treturn (\n\t\t<div\n\t\t\tclassName={cx(\n\t\t\t\t'overflow-hidden rounded border border-stone-800',\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName='flex cursor-pointer border-b border-stone-800 p-2 font-bold text-stone-50 transition-colors hover:bg-stone-900'\n\t\t\t\tonClick={() => {\n\t\t\t\t\tonToggle(!isOpen);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className='grow'>{label}</div>\n\t\t\t\t{isOpen ? (\n\t\t\t\t\t<ArrowDropUp className='fill-current' />\n\t\t\t\t) : (\n\t\t\t\t\t<ArrowDropDown className='fill-current' />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<AnimatePresence>\n\t\t\t\t{isOpen && (\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tlayout\n\t\t\t\t\t\tclassName='p-2 text-stone-300'\n\t\t\t\t\t\tinitial={{\n\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tanimate={{\n\t\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\texit={{\n\t\t\t\t\t\t\theight: 0,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</motion.div>\n\t\t\t\t)}\n\t\t\t</AnimatePresence>\n\t\t</div>\n\t);\n}\n"],"mappings":";;;;;AACA,SAA+B,gBAAe;AAC9C,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AACxB,SAAQ,iBAAiB,cAAa;AAOpC,cAqCC,YArCD;AAFa,SAAR,SAA0B,OAAsB;AACtD,SAAO,YAAY,QAClB,oBAAC,gBAAc,GAAG,OAAO,IAEzB,oBAAC,oBAAkB,GAAG,OAAO;AAE/B;AASO,SAAS,iBAAiB,OAA8B;AAC9D,QAAM,EAAC,kBAAkB,MAAK,IAAI;AAClC,QAAM,CAAC,QAAQ,SAAS,IAAI,SAAS,eAAe;AACpD,SAAO,oBAAC,gBAAa,QAAgB,UAAU,WAAY,GAAG,OAAO;AACtE;AAUO,SAAS,aAAa,OAA0B;AACtD,QAAM,EAAC,QAAQ,UAAU,OAAO,UAAU,UAAS,IAAI;AAEvD,SACC;AAAA,IAAC;AAAA;AAAA,MACA,WAAW;AAAA,QACV;AAAA,QACA;AAAA,MACD;AAAA,MAEA;AAAA;AAAA,UAAC;AAAA;AAAA,YACA,WAAU;AAAA,YACV,SAAS,MAAM;AACd,uBAAS,CAAC,MAAM;AAAA,YACjB;AAAA,YAEA;AAAA,kCAAC,SAAI,WAAU,QAAQ,iBAAM;AAAA,cAC5B,SACA,oBAAC,eAAY,WAAU,gBAAe,IAEtC,oBAAC,iBAAc,WAAU,gBAAe;AAAA;AAAA;AAAA,QAE1C;AAAA,QACA,oBAAC,mBACC,oBACA;AAAA,UAAC,OAAO;AAAA,UAAP;AAAA,YACA,QAAM;AAAA,YACN,WAAU;AAAA,YACV,SAAS;AAAA,cACR,QAAQ;AAAA,YACT;AAAA,YACA,SAAS;AAAA,cACR,QAAQ;AAAA,YACT;AAAA,YACA,MAAM;AAAA,cACL,QAAQ;AAAA,YACT;AAAA,YAEC;AAAA;AAAA,QACF,GAEF;AAAA;AAAA;AAAA,EACD;AAEF;","names":[]}