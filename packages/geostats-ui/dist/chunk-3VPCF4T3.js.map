{"version":3,"sources":["../src/table/table-column-header.tsx"],"sourcesContent":["import type {GridNode} from '@react-types/grid';\nimport type {TableState} from 'react-stately';\nimport React, {useRef} from 'react';\nimport {mergeProps, useFocusRing, useTableColumnHeader} from 'react-aria';\nimport {cx} from '@/cva.ts';\n\nexport type TableColumnHeaderProps<T> = {\n\treadonly column: GridNode<T>;\n\treadonly state: TableState<T>;\n};\n\nexport function TableColumnHeader<T>(props: TableColumnHeaderProps<T>) {\n\tconst {column, state} = props;\n\tconst headerRef = useRef<HTMLTableHeaderCellElement>(null);\n\n\tconst {columnHeaderProps} = useTableColumnHeader(\n\t\t{node: column},\n\t\tstate,\n\t\theaderRef,\n\t);\n\n\tconst {isFocusVisible, focusProps} = useFocusRing();\n\tconst arrowIcon =\n\t\tstate.sortDescriptor?.direction === 'ascending' ? '▲' : '▼';\n\n\treturn (\n\t\t<th\n\t\t\t{...mergeProps(columnHeaderProps, focusProps)}\n\t\t\tref={headerRef}\n\t\t\tcolSpan={column.colspan}\n\t\t\tclassName={cx(\n\t\t\t\t'p-4 outline-none cursor-default',\n\t\t\t\tisFocusVisible && 'shadow-stone-50',\n\t\t\t\t(column.colspan ?? 0) > 1 ? 'text-center' : 'text-left',\n\t\t\t)}\n\t\t>\n\t\t\t{column.rendered}\n\t\t\t{column.props.allowsSorting && (\n\t\t\t\t<span\n\t\t\t\t\taria-hidden='true'\n\t\t\t\t\tclassName={cx(\n\t\t\t\t\t\t'px-0 py-1 ',\n\t\t\t\t\t\tstate.sortDescriptor?.column === column.key\n\t\t\t\t\t\t\t? 'visible'\n\t\t\t\t\t\t\t: 'hidden',\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{arrowIcon}\n\t\t\t\t</span>\n\t\t\t)}\n\t\t</th>\n\t);\n}\n"],"mappings":";;;;;AAEA,SAAe,cAAa;AAC5B,SAAQ,YAAY,cAAc,4BAA2B;AAuB3D,SAYE,KAZF;AAfK,SAAS,kBAAqB,OAAkC;AACtE,QAAM,EAAC,QAAQ,MAAK,IAAI;AACxB,QAAM,YAAY,OAAmC,IAAI;AAEzD,QAAM,EAAC,kBAAiB,IAAI;AAAA,IAC3B,EAAC,MAAM,OAAM;AAAA,IACb;AAAA,IACA;AAAA,EACD;AAEA,QAAM,EAAC,gBAAgB,WAAU,IAAI,aAAa;AAClD,QAAM,YACL,MAAM,gBAAgB,cAAc,cAAc,WAAM;AAEzD,SACC;AAAA,IAAC;AAAA;AAAA,MACC,GAAG,WAAW,mBAAmB,UAAU;AAAA,MAC5C,KAAK;AAAA,MACL,SAAS,OAAO;AAAA,MAChB,WAAW;AAAA,QACV;AAAA,QACA,kBAAkB;AAAA,SACjB,OAAO,WAAW,KAAK,IAAI,gBAAgB;AAAA,MAC7C;AAAA,MAEC;AAAA,eAAO;AAAA,QACP,OAAO,MAAM,iBACb;AAAA,UAAC;AAAA;AAAA,YACA,eAAY;AAAA,YACZ,WAAW;AAAA,cACV;AAAA,cACA,MAAM,gBAAgB,WAAW,OAAO,MACrC,YACA;AAAA,YACJ;AAAA,YAEC;AAAA;AAAA,QACF;AAAA;AAAA;AAAA,EAEF;AAEF;","names":[]}