{"version":3,"sources":["../src/number-field.tsx"],"sourcesContent":["import {type ForwardedRef, forwardRef, type ReactNode} from 'react';\nimport {type AriaNumberFieldProps, useLocale, useNumberField} from 'react-aria';\nimport {type NumberFieldStateOptions, useNumberFieldState} from 'react-stately';\nimport {useObjectRef} from '@react-aria/utils';\nimport {twJoin} from 'tailwind-merge';\nimport ArrowDropDown from '@material-design-icons/svg/round/arrow_drop_down.svg';\nimport ArrowDropUp from '@material-design-icons/svg/round/arrow_drop_up.svg';\nimport Button from '@/button/button.tsx';\nimport {cx} from '@/cva.ts';\n\nexport type NumberFieldProps = {\n\treadonly className?: string;\n\treadonly name?: string;\n\treadonly icon?: ReactNode;\n} & AriaNumberFieldProps &\n\tOmit<NumberFieldStateOptions, 'locale'>;\n\nexport const NumberField = forwardRef(function NumberField(\n\tprops: NumberFieldProps,\n\tref: ForwardedRef<HTMLInputElement>,\n) {\n\tconst {locale} = useLocale();\n\tconst {label, className, icon, isDisabled, name, isRequired} = props;\n\tconst state = useNumberFieldState({\n\t\tvalidationBehavior: 'native',\n\t\t...props,\n\t\tlocale,\n\t});\n\tconst inputRef = useObjectRef(ref);\n\tconst {\n\t\tlabelProps,\n\t\tgroupProps,\n\t\tinputProps,\n\t\tincrementButtonProps,\n\t\tdecrementButtonProps,\n\t\terrorMessageProps,\n\t\tisInvalid,\n\t\tvalidationErrors,\n\t} = useNumberField(\n\t\t{\n\t\t\tvalidationBehavior: 'native',\n\t\t\t...props,\n\t\t},\n\t\tstate,\n\t\tinputRef,\n\t);\n\treturn (\n\t\t<div data-disabled={isDisabled} className={twJoin('group', className)}>\n\t\t\t<label\n\t\t\t\t{...labelProps}\n\t\t\t\tclassName={cx(\n\t\t\t\t\t'block text-stone-400 group-focus-within:text-stone-50 text-sm mb-1 group-data-[disabled=true]:text-stone-500 transition-colors',\n\t\t\t\t\tisRequired && 'after:content-[\"*\"] after:ml-0.5',\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{label}\n\t\t\t</label>\n\n\t\t\t<div\n\t\t\t\t{...groupProps}\n\t\t\t\tclassName='flex w-full items-center gap-2 rounded border border-stone-700 ps-2 shadow-stone-800 transition-all group-focus-within:border-stone-50 group-focus-within:glow-sm group-data-[disabled=true]:border-stone-800'\n\t\t\t>\n\t\t\t\t{icon}\n\t\t\t\t<input\n\t\t\t\t\t{...inputProps}\n\t\t\t\t\tref={inputRef}\n\t\t\t\t\tname={name}\n\t\t\t\t\tclassName='min-w-0 grow bg-transparent py-2 text-stone-200 outline-none disabled:cursor-not-allowed disabled:text-stone-600'\n\t\t\t\t/>\n\t\t\t\t<div className='flex-none basis-4 flex-col items-center justify-around fill-stone-400'>\n\t\t\t\t\t<Button {...incrementButtonProps} variant='text' size='xs'>\n\t\t\t\t\t\t<ArrowDropUp viewBox='0 0 24 24' className='size-4' />\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button {...decrementButtonProps} variant='text' size='xs'>\n\t\t\t\t\t\t<ArrowDropDown viewBox='0 0 24 24' className='size-4' />\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{isInvalid && (\n\t\t\t\t<div\n\t\t\t\t\t{...errorMessageProps}\n\t\t\t\t\tclassName='mt-1 text-xs text-red-400'\n\t\t\t\t>\n\t\t\t\t\t{validationErrors.join(' ')}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n});\n"],"mappings":";;;;;;;;;;;AAAA,SAA2B,kBAAiC;AAC5D,SAAmC,WAAW,sBAAqB;AACnE,SAAsC,2BAA0B;AAEhE,SAAQ,cAAa;AACrB,OAAO,mBAAmB;AAC1B,OAAO,iBAAiB;AA0CrB,cAqBC,YArBD;AA/BI,IAAM,cAAc,WAAW,SAASA,aAC9C,OACA,KACC;AACD,QAAM,EAAC,OAAM,IAAI,UAAU;AAC3B,QAAM,EAAC,OAAO,WAAW,MAAM,YAAY,MAAM,WAAU,IAAI;AAC/D,QAAM,QAAQ,oBAAoB;AAAA,IACjC,oBAAoB;AAAA,IACpB,GAAG;AAAA,IACH;AAAA,EACD,CAAC;AACD,QAAM,WAAW,0CAAa,GAAG;AACjC,QAAM;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD,IAAI;AAAA,IACH;AAAA,MACC,oBAAoB;AAAA,MACpB,GAAG;AAAA,IACJ;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACA,SACC,qBAAC,SAAI,iBAAe,YAAY,WAAW,OAAO,SAAS,SAAS,GACnE;AAAA;AAAA,MAAC;AAAA;AAAA,QACC,GAAG;AAAA,QACJ,WAAW;AAAA,UACV;AAAA,UACA,cAAc;AAAA,QACf;AAAA,QAEC;AAAA;AAAA,IACF;AAAA,IAEA;AAAA,MAAC;AAAA;AAAA,QACC,GAAG;AAAA,QACJ,WAAU;AAAA,QAET;AAAA;AAAA,UACD;AAAA,YAAC;AAAA;AAAA,cACC,GAAG;AAAA,cACJ,KAAK;AAAA,cACL;AAAA,cACA,WAAU;AAAA;AAAA,UACX;AAAA,UACA,qBAAC,SAAI,WAAU,yEACd;AAAA,gCAAC,kBAAQ,GAAG,sBAAsB,SAAQ,QAAO,MAAK,MACrD,8BAAC,eAAY,SAAQ,aAAY,WAAU,UAAS,GACrD;AAAA,YACA,oBAAC,kBAAQ,GAAG,sBAAsB,SAAQ,QAAO,MAAK,MACrD,8BAAC,iBAAc,SAAQ,aAAY,WAAU,UAAS,GACvD;AAAA,aACD;AAAA;AAAA;AAAA,IACD;AAAA,IACC,aACA;AAAA,MAAC;AAAA;AAAA,QACC,GAAG;AAAA,QACJ,WAAU;AAAA,QAET,2BAAiB,KAAK,GAAG;AAAA;AAAA,IAC3B;AAAA,KAEF;AAEF,CAAC;","names":["NumberField"]}