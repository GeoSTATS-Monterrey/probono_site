{"version":3,"sources":["../src/table/table.tsx"],"sourcesContent":["import React, {useRef} from 'react';\nimport {type AriaTableProps, useTable} from 'react-aria';\nimport {type TableStateProps, useTableState} from 'react-stately';\nimport TableRowGroup from '@/table/table-row-group.tsx';\nimport {TableHeaderRow} from '@/table/table-header-row.tsx';\nimport TableSelectAllCell from '@/table/table-select-all-cell.tsx';\nimport {TableColumnHeader} from '@/table/table-column-header.tsx';\nimport TableRow from '@/table/table-row.tsx';\nimport TableCheckboxCell from '@/table/table-checkbox-cell.tsx';\nimport TableCell from '@/table/table-cell.tsx';\nimport {cx} from '@/cva.ts';\n\nexport type TableProps<T> = {\n\treadonly className?: string;\n} & AriaTableProps<T> &\n\tTableStateProps<T>;\n\nexport default function Table<T extends object>(props: TableProps<T>) {\n\tconst {className} = props;\n\n\tconst state = useTableState<T>(props);\n\n\tconst tableRef = useRef<HTMLTableElement>(null);\n\n\tconst {collection} = state;\n\n\tconst {gridProps} = useTable(props, state, tableRef);\n\n\treturn (\n\t\t<table\n\t\t\t{...gridProps}\n\t\t\tref={tableRef}\n\t\t\tclassName={cx('border-collapse', className)}\n\t\t>\n\t\t\t<TableRowGroup type='thead'>\n\t\t\t\t{collection.headerRows.map(headerRow => (\n\t\t\t\t\t<TableHeaderRow\n\t\t\t\t\t\tkey={headerRow.key}\n\t\t\t\t\t\titem={headerRow}\n\t\t\t\t\t\tstate={state}\n\t\t\t\t\t>\n\t\t\t\t\t\t{[...collection.getChildren!(headerRow.key)].map(\n\t\t\t\t\t\t\tcolumn =>\n\t\t\t\t\t\t\t\tcolumn.props.isSelectionCell ? (\n\t\t\t\t\t\t\t\t\t<TableSelectAllCell\n\t\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<TableColumnHeader\n\t\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableHeaderRow>\n\t\t\t\t))}\n\t\t\t</TableRowGroup>\n\t\t\t<TableRowGroup type='tbody'>\n\t\t\t\t{\n\t\t\t\t\t// The following is deprecated, but the body's children are not accesible via collection.getChildren\n\t\t\t\t\t[...collection.body.childNodes].map(row => (\n\t\t\t\t\t\t<TableRow key={row.key} item={row} state={state}>\n\t\t\t\t\t\t\t{[...collection.getChildren!(row.key)].map(cell =>\n\t\t\t\t\t\t\t\tcell.props.isSelectionCell ? (\n\t\t\t\t\t\t\t\t\t<TableCheckboxCell\n\t\t\t\t\t\t\t\t\t\tkey={cell.key}\n\t\t\t\t\t\t\t\t\t\tcell={cell}\n\t\t\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\tkey={cell.key}\n\t\t\t\t\t\t\t\t\t\tcell={cell}\n\t\t\t\t\t\t\t\t\t\tstate={state}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t))\n\t\t\t\t}\n\t\t\t</TableRowGroup>\n\t\t</table>\n\t);\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAe,cAAa;AAC5B,SAA6B,gBAAe;AAC5C,SAA8B,qBAAoB;AA2BhD,SAeO,KAfP;AAZa,SAAR,MAAyC,OAAsB;AACrE,QAAM,EAAC,UAAS,IAAI;AAEpB,QAAM,QAAQ,cAAiB,KAAK;AAEpC,QAAM,WAAW,OAAyB,IAAI;AAE9C,QAAM,EAAC,WAAU,IAAI;AAErB,QAAM,EAAC,UAAS,IAAI,SAAS,OAAO,OAAO,QAAQ;AAEnD,SACC;AAAA,IAAC;AAAA;AAAA,MACC,GAAG;AAAA,MACJ,KAAK;AAAA,MACL,WAAW,GAAG,mBAAmB,SAAS;AAAA,MAE1C;AAAA,4BAAC,iBAAc,MAAK,SAClB,qBAAW,WAAW,IAAI,eAC1B;AAAA,UAAC;AAAA;AAAA,YAEA,MAAM;AAAA,YACN;AAAA,YAEC,WAAC,GAAG,WAAW,YAAa,UAAU,GAAG,CAAC,EAAE;AAAA,cAC5C,YACC,OAAO,MAAM,kBACZ;AAAA,gBAAC;AAAA;AAAA,kBAEA;AAAA,kBACA;AAAA;AAAA,gBAFK,OAAO;AAAA,cAGb,IAEA;AAAA,gBAAC;AAAA;AAAA,kBAEA;AAAA,kBACA;AAAA;AAAA,gBAFK,OAAO;AAAA,cAGb;AAAA,YAEH;AAAA;AAAA,UAnBK,UAAU;AAAA,QAoBhB,CACA,GACF;AAAA,QACA,oBAAC;AAAA,UAAc,MAAK;AAAA;AAAA,UAGlB,WAAC,GAAG,WAAW,KAAK,UAAU,EAAE,IAAI,SACnC,oBAAC,YAAuB,MAAM,KAAK,OACjC,WAAC,GAAG,WAAW,YAAa,IAAI,GAAG,CAAC,EAAE;AAAA,YAAI,UAC1C,KAAK,MAAM,kBACV;AAAA,cAAC;AAAA;AAAA,gBAEA;AAAA,gBACA;AAAA;AAAA,cAFK,KAAK;AAAA,YAGX,IAEA;AAAA,cAAC;AAAA;AAAA,gBAEA;AAAA,gBACA;AAAA;AAAA,cAFK,KAAK;AAAA,YAGX;AAAA,UAEF,KAfc,IAAI,GAgBnB,CACA;AAAA,SAEH;AAAA;AAAA;AAAA,EACD;AAEF;","names":[]}